---
{"dg-publish":true,"permalink":"/zadanie-1-postanovka-zadachi-na-razrabotku-strapi/"}
---


- - - 

**ФИО:** {{ 2022- ФГиИБ- ИБ- 2б }} {{ Штро Илья }}

- - - 

#### Требования:

- [ ]  Не менее 3 сущностей;
- [ ]  Сущности связаны отношениями (один ко многим, многие к одному и т.п.);
- [ ]  Должны быть вложенные сущности;
- [ ]  Подключены медиа;
- [ ]  Требуется аутентификация;
- [ ]  Есть уровни доступа и, соответственно, роли;
- [ ]  Кастомная валидация (за пределами стандартных типов данных).

#### Идея

API для прогнозирования погоды: "WeatherWise"

Концепция: API "WeatherWise" предоставляет информацию о погоде для любого места на Земле, с дополнительными функциями, ориентированными на планирование деятельности и учет личных предпочтений.

#### Сущности
**1. Местоположение (Location):**
    * `location_id` - уникальный идентификатор (Тип данных: serial)
    * `name` - название местоположения (Тип данных: string)
    * `latitude` - широта (Тип данных: float)
    * `longitude` - долгота (Тип данных: float)
    * `country` - страна (Тип данных: string)
    * `region` - регион (Тип данных: string)
    * `city` - город (Тип данных: string)
    * `weather_data_id` - идентификатор последней полученной информации о погоде (Тип данных: serial)
    * `role` - роль пользователя (Тип данных: string)
     **Связи:**
        * `hasMany` `WeatherData` - данные о погоде для этого местоположения
        * `hasMany` `Forecast` - прогнозы погоды для этого местоположения

**2. Данные о погоде (WeatherData):**
    * `weather_data_id` - уникальный идентификатор (Тип данных: serial)
    * `location_id` - идентификатор местоположения (Тип данных: serial)
    * `timestamp` - дата и время получения данных (Тип данных: datetime)
    * `temperature` - температура в Цельсиях (Тип данных: float)
    * `feels_like` - ощущаемая температура в Цельсиях (Тип данных: float)
    * `humidity` - влажность (Тип данных: int)
    * `wind_speed` - скорость ветра м/c (Тип данных: float)
    * `pressure` - атмосферное давление в Гектопаскалях (Тип данных: float)
    * `condition` - состояние погоды - дождь, снег, облачно, ясно и т.д. (Тип данных: string)
    * `weather_icon` - иконка, отображающая состояние погоды (Тип данных: media)
    * `precipitation` - количество осадков в миллиметрах (Тип данных: float)
     **Связи:**
        * `belongsTo` `Location`- местоположение, для которого получены данные

**3. Прогноз (Forecast):**
    * `forecast_id` - уникальный идентификатор (Тип данных: serial)
    * `weather_data_id` - идентификатор данных о погоде, на основе которых составлен прогноз (Тип данных: serial)
    * `location_id`- идентификатор местоположения (Тип данных: serial)
    * `forecast_time`- дата и время прогноза (Тип данных: datetime)
    * `min_temperature`- минимальная температура в Цельсиях (Тип данных: float)
    * `max_temperature`- максимальная температура в Цельсиях (Тип данных: float)
    * `precipitation_probability`- вероятность осадков (Тип данных: int)
    * `condition`- состояние погоды в течение прогнозируемого периода (Тип данных: string)
    * `icon`- иконка, отображающая состояние погоды (Тип данных: media)
     **Связи:**
        * `belongsTo` `Location`- местоположение, для которого составлен прогноз

**4. Пользователь (User):**
    * `user_id`- уникальный идентификатор (Тип данных: serial)
    * `username`- имя пользователя (Тип данных: string)
    * `email`- адрес электронной почты (Тип данных: string)
    * `user_photo` - фотография пользователя (Тип данных: media)
    * `location_id`  - уникальный идентификатор (Тип данных: serial)
     **Связи:**
        * `hasMany` `Notification`- уведомления пользователя

   **5. Уведомление (Notification):**
    * `notification_id`- уникальный идентификатор (Тип данных: serial)
    * `user_id`- идентификатор пользователя (Тип данных: serial)
    * `type`- тип уведомления - изменение погоды, прогноз, рекомендация (Тип данных: string)
    * `message`- текст уведомления (Тип данных: string)
    * `timestamp`- дата и время отправки уведомления (Тип данных: datetime)
     **Связи:**
        * `belongsTo` `User`- пользователь, которому отправляется уведомление`belongsTo` `WeatherData`- данные о погоде в данной локации в данное время
###### Отношения между сущностями

В виде схемы  
![Pasted image 20240912202833.png](/img/user/Pasted%20image%2020240912202833.png)

#### Источники данных

user_photo - Фотографии пользователей загружаются из галереи пользователей

icon - Иконка, отображающая состояние погоды, загружается из стороннего сервера в формате SVG

Все данные о погоде подгружаются из стороннего сервиса
\

#### Порядок доступа к данным
1. Простые пользователи могут пользоваться приложением только после регистрации. Никак не может повлиять на саму систему.
2. Администраторы может управлять доступом к API для разных пользователей, может отслеживать количество запросов, количество пользователей и другие показатели, а так же может устанавливать лимиты на количество запросов, которые могут выполнять пользователи за определенный период времени.


#### Особые указания, требования, комментарии
Не имею